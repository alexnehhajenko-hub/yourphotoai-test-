<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>YourPhotoAI ‚Äì AI Portrait Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- SEO meta -->
  <meta
    name="description"
    content="YourPhotoAI ‚Äì online AI portrait lab. Upload your photo and get AI-generated portraits in different styles with skin effects, expressions and greetings. Pay once, use your package of generations during the session."
  >
  <link rel="canonical" href="https://yourphotoai.vip/">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQVWHVN6BT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-KQVWHVN6BT');
  </script>

  <!-- App styles -->
  <link rel="stylesheet" href="/assets/style.css">

  <!-- Stripe.js for payments -->
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="app-header">
      <h1 class="app-title">YOURPHOTOAI</h1>
      <div class="app-subtitle">Create your unique AI portrait</div>

      <!-- Language switcher -->
      <div class="lang-switch">
        <button id="langEn" class="lang-btn lang-selected">EN</button>
        <button id="langDe" class="lang-btn">DE</button>
        <button id="langEs" class="lang-btn">ES</button>
        <button id="langRu" class="lang-btn">RU</button>
      </div>

      <!-- üîî Christmas / Holiday sale banner (EN) -->
      <div
        style="
          margin-top: 10px;
          display: flex;
          justify-content: center;
        "
      >
        <div
          style="
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            padding: 8px 14px;
            border-radius: 999px;
            background: linear-gradient(135deg, #ff4b6a, #ffb54b);
            color: #fff;
            font-size: 11px;
            text-align: center;
            box-shadow: 0 8px 18px rgba(0,0,0,0.65);
          "
        >
          <div style="font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase;">
            Christmas special offer üéÑ
          </div>
          <div style="opacity: 0.95;">
            10 AI portraits now <strong>‚Ç¨2.99</strong> (was <span style="text-decoration: line-through;">‚Ç¨4.99</span>)
          </div>
        </div>
      </div>

      <!-- Button: view static example gallery -->
      <div style="margin-top:12px; display:flex; justify-content:center;">
        <a
          href="#examplesGallery"
          class="btn-main btn-secondary"
          style="
            padding: 8px 18px;
            font-size: 14px;
            max-width: 260px;
            text-align: center;
          "
        >
          View example gallery
        </a>
      </div>
    </header>

    <!-- Portrait preview -->
    <section class="preview-box">
      <div class="preview-label">PREVIEW</div>

      <img id="previewImage" class="preview-image" alt="Preview">

      <div class="preview-placeholder" id="previewPlaceholder">
        Add a photo and choose effects.<br>
        After generation your portrait will appear here.
      </div>

      <!-- Optional greeting text overlay -->
      <div class="greeting-overlay" id="greetingOverlay"></div>

      <!-- Generation status overlay -->
      <div class="generate-status" id="generateStatus">
        <div class="spinner"></div>
        <div class="generate-status-text">Generating portrait‚Ä¶</div>
      </div>
    </section>

    <!-- Email send block -->
    <div
      class="email-send-row"
      style="
        display:none;
        margin: 12px auto 0;
        max-width: 480px;
        padding: 8px 0;
        gap: 8px;
        align-items: center;
        justify-content: center;
      "
    >
      <input
        type="email"
        id="emailInput"
        placeholder="Enter your email"
        autocomplete="email"
        style="
          flex: 1;
          min-width: 0;
          padding: 10px 12px;
          border-radius: 12px;
          border: 1px solid rgba(255,255,255,0.2);
          background: rgba(0,0,0,0.3);
          color: #ffffff;
          outline: none;
        "
      />
      <button
        id="emailSendButton"
        style="
          padding: 10px 16px;
          border-radius: 12px;
          border: none;
          background: linear-gradient(135deg, #ff4ecd, #7c5cff);
          color: #ffffff;
          font-weight: 600;
          cursor: pointer;
          white-space: nowrap;
        "
      >
        Send to email
      </button>
    </div>

    <div
      id="emailStatus"
      style="
        min-height: 18px;
        margin: 4px auto 0;
        max-width: 480px;
        font-size: 13px;
        color: rgba(255,255,255,0.8);
        text-align: center;
      "
    ></div>

    <!-- Hint -->
    <div
      style="
        margin: 8px auto 0;
        max-width: 480px;
        font-size: 13px;
        color: rgba(255,255,255,0.7);
        text-align: center;
      "
    >
      You can <strong>download your portrait</strong> immediately
      or <strong>send it to your email</strong> at any time during the session.
    </div>

    <!-- Bottom block: effects + buttons -->
    <div class="controls" id="controls">
      <!-- Chips with selected settings -->
      <div class="selection-row" id="selectionRow"></div>

      <!-- Main buttons -->
      <section class="button-list">
        <button class="btn-main" id="btnStyle">
          <span class="btn-icon">üé®</span>
          <span>PORTRAIT STYLE</span>
        </button>

        <button class="btn-main" id="btnSkin">
          <span class="btn-icon">‚ú®</span>
          <span>SKIN EFFECT</span>
        </button>

        <button class="btn-main" id="btnMimic">
          <span class="btn-icon">üôÇ</span>
          <span>EXPRESSION</span>
        </button>

        <button class="btn-main" id="btnGreetings">
          <span class="btn-icon">üíå</span>
          <span>GREETINGS</span>
        </button>

        <!-- Clear all effects -->
        <button class="btn-main" id="btnClearEffects">
          <span class="btn-icon">üßπ</span>
          <span>CLEAR EFFECTS</span>
        </button>

        <!-- ‚úÖ RESTORE (OLD PHOTO) -->
        <button class="btn-main" id="btnRestore">
          <span class="btn-icon">üñºÔ∏è</span>
          <span>RESTORE (OLD PHOTO)</span>
        </button>

        <button class="btn-main btn-secondary" id="btnGenerate">
          <span class="btn-icon">‚ö°Ô∏è</span>
          <span>GENERATE</span>
        </button>

        <div class="btn-row-split">
          <button class="btn-half" id="btnAddPhoto">
            <span class="btn-icon">üì∑</span>
            <span>ADD PHOTO</span>
          </button>
          <button class="btn-half btn-pay" id="btnPay">
            <span class="btn-icon">üí≥</span>
            <span>PACKAGES</span>
          </button>
        </div>
      </section>
    </div>

    <!-- Download + My portraits -->
    <div class="download-row">
      <a
        id="downloadLink"
        class="btn-download"
        href="#"
        download="yourphotoai-portrait.png"
        style="display: none;"
      >
        Download portrait
      </a>

      <button
        id="galleryButton"
        style="
          display:none;
          margin-left: 8px;
          padding: 10px 16px;
          border-radius: 12px;
          border: 1px solid rgba(255,255,255,0.2);
          background: rgba(0,0,0,0.3);
          color: #ffffff;
          font-size: 13px;
          cursor: pointer;
          white-space: nowrap;
        "
      >
        My portraits (0)
      </button>
    </div>

    <!-- Static gallery with examples -->
    <section
      id="examplesGallery"
      style="
        margin: 32px auto 24px;
        max-width: 900px;
        padding: 0 16px;
      "
    >
      <h2
        style="
          font-size: 20px;
          font-weight: 600;
          margin-bottom: 8px;
          text-align: center;
        "
      >
        Example portraits
      </h2>
      <p
        style="
          font-size: 14px;
          color: rgba(255,255,255,0.7);
          margin-bottom: 16px;
          text-align: center;
        "
      >
        Real transformations created with YourPhotoAI.
      </p>

      <div
        style="
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 12px;
        "
      >
        <figure style="margin:0;">
          <img src="/assets/gallery-1.jpg.jpg" alt="AI portrait example 1"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-2.jpg.jpg" alt="AI portrait example 2"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-3.jpg.jpg" alt="AI portrait example 3"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-4.jpg.jpg" alt="AI portrait example 4"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-5.jpg.jpg" alt="AI portrait example 5"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-6.jpg.jpg" alt="AI portrait example 6"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-7.jpg.jpg" alt="AI portrait example 7"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-8.jpg.jpg" alt="AI portrait example 8"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-9.jpg.jpg" alt="AI portrait example 9"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
        <figure style="margin:0;">
          <img src="/assets/gallery-10.jpg.jpg" alt="AI portrait example 10"
               style="width:100%; border-radius:12px; display:block;">
        </figure>
      </div>
    </section>

    <!-- Session gallery modal -->
    <div
      class="gallery-backdrop"
      id="galleryBackdrop"
      style="
        display:none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.75);
        z-index: 50;
        align-items: center;
        justify-content: center;
        padding: 16px;
      "
    >
      <div
        class="gallery-modal"
        style="
          max-width: 720px;
          width: 100%;
          max-height: 90vh;
          background: #050515;
          border-radius: 18px;
          padding: 16px;
          display: flex;
          flex-direction: column;
        "
      >
        <div
          class="gallery-header"
          style="
            display:flex;
            align-items:center;
            justify-content:space-between;
            margin-bottom: 8px;
          "
        >
          <div
            style="
              font-size:16px;
              font-weight:600;
              color:#ffffff;
            "
          >
            My portraits in this session
          </div>
          <button
            id="galleryCloseBtn"
            style="
              border:none;
              background:transparent;
              color:#ffffff;
              font-size:18px;
              cursor:pointer;
            "
          >
            ‚úï
          </button>
        </div>

        <div
          id="galleryEmpty"
          style="
            font-size:13px;
            color:rgba(255,255,255,0.7);
            text-align:center;
            padding: 24px 8px;
          "
        >
          No portraits yet. Generate a portrait and it will appear here.
        </div>

        <div
          id="galleryGrid"
          style="
            display:none;
            overflow-y:auto;
            padding: 4px;
            margin-bottom: 8px;
          "
        ></div>

        <div
          id="galleryStatus"
          style="
            min-height:18px;
            font-size:13px;
            color:rgba(255,255,255,0.85);
            margin-bottom: 8px;
            text-align:left;
          "
        ></div>

        <div
          class="gallery-footer"
          style="
            display:flex;
            justify-content:flex-end;
            gap:8px;
          "
        >
          <button
            id="gallerySendBtn"
            style="
              padding: 10px 16px;
              border-radius: 12px;
              border:none;
              background: linear-gradient(135deg, #ff4ecd, #7c5cff);
              color:#ffffff;
              font-weight:600;
              cursor:pointer;
              white-space:nowrap;
            "
          >
            Send all to email
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div>¬© YourPhotoAI</div>
      <div class="support-block">
        Support:
        <a id="supportEmail"></a>
      </div>
    </footer>
  </div>

  <!-- Hidden file input -->
  <input type="file" id="fileInput" accept="image/*" style="display:none">

  <!-- Bottom SHEET for style / skin / expression / greetings -->
  <div class="sheet-backdrop" id="sheetBackdrop">
    <div class="sheet">
      <div class="sheet-header">
        <div class="sheet-title" id="sheetTitle">Choose</div>
        <button class="sheet-close" id="sheetCloseBtn">‚úï</button>
      </div>
      <div class="sheet-description" id="sheetDescription"></div>

      <div class="sheet-section-title" id="sheetCategoryTitle" style="display:none;">
        Categories
      </div>
      <div class="chip-row" id="sheetCategoryRow" style="display:none;"></div>

      <div class="sheet-section-title" id="sheetOptionsTitle">Options</div>
      <div class="chip-row" id="sheetOptionsRow"></div>
    </div>
  </div>

  <!-- MODAL #1: package selection -->
  <div class="pay-backdrop" id="payBackdrop">
    <div class="pay-modal">
      <div class="pay-header">
        <div class="pay-title">Choose a package</div>
        <button class="pay-close" id="payCloseBtn">‚úï</button>
      </div>

      <div class="pay-section-title">Generation packages</div>

      <div class="pay-packages">
        <button class="pay-package" data-package="pack10" id="pkg10">
          <div class="pay-package-title">Starter ¬∑ 10 generations</div>
          <div class="pay-package-price">‚Ç¨2.99</div>
        </button>
        <button class="pay-package" data-package="pack20" id="pkg20">
          <div class="pay-package-title">Standard ¬∑ 20 generations</div>
          <div class="pay-package-price">‚Ç¨4.99</div>
        </button>
        <button class="pay-package" data-package="pack30" id="pkg30">
          <div class="pay-package-title">Pro ¬∑ 30 generations</div>
          <div class="pay-package-price">‚Ç¨6.99</div>
        </button>
      </div>

      <div class="pay-error" id="payError"></div>

      <button class="pay-submit" id="payNextBtn">
        Continue
      </button>
    </div>
  </div>

  <!-- MODAL #2: consent + email before payment -->
  <div class="agreement-backdrop" id="agreementBackdrop">
    <div class="agreement-modal">
      <div class="agreement-header">
        <div class="agreement-title">Confirmation</div>
        <button class="agreement-close" id="agreementCloseBtn">‚úï</button>
      </div>

      <div class="agreement-text">
        Before payment, please confirm your age and consent.<br><br>
        <strong>Important:</strong> YourPhotoAI creates AI portraits based on your photo.
        After the session ends, the final images will be sent to the email you specify.
      </div>

      <div class="agreement-section-title">Your email</div>
      <input
        type="email"
        id="agreeEmail"
        class="agreement-input"
        placeholder="you@example.com"
        autocomplete="email"
      />

      <label class="agreement-checkbox-row">
        <input type="checkbox" id="agreeCheckbox">
        <span>
          I am 16+ and I agree with
          <a href="#">Terms</a>,
          <a href="#">Privacy</a>,
          <a href="#">Refunds</a>.
        </span>
      </label>

      <div class="agreement-error" id="agreeError"></div>

      <button class="agreement-submit" id="agreePayBtn">
        Continue
      </button>

      <div class="agreement-hint">
        Payments are processed via Stripe. We do not see or store your card data.
      </div>
    </div>
  </div>

  <!-- Main JS -->
  <script type="module" src="/assets/main.js"></script>
  <!-- Single-portrait email -->
  <script type="module" src="/assets/email-send.js"></script>
  <!-- Gallery + send all -->
  <script type="module" src="/assets/gallery.js"></script>
</body>
</html>